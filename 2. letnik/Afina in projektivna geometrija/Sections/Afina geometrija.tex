\section{Afina geometrija}

\epigraph{">Vsak izrek se pokaže v eni vrstici, če imamo dovolj lem. Ali pa če je vrstica dovolj dolga."<}
{-- izr.~prof.~dr.~Aleš Vavpetič}

\subsection{Afini podprostori v vektorskem prostoru}

\datum{2022-2-15}

\begin{definicija}
    Naj bo $V$ končnorazsežen vektorski prostor nad obsegom $O$, $a \in V$ in $W \leq V$. Množico
    \[
    a + W = \setb{a + x}{x \in W}
    \]
    imenujemo \emph{afin podprostor} v $V$.
    Množica $\mathcal{A}$ je \emph{afin prostor}\index{Afin prostor}, če je afin podprostor v kakšnem vektorskem prostoru.
\end{definicija}

\begin{opomba}
    V nadaljevanju $V$ označuje končnorazsežen vektorski prostor nad komutativnim obsegom $O$.
\end{opomba}

\begin{lema}
    Naj bo $\mathcal{A} = a + W$ afin podprostor. Tedaj je $\mathcal{A} = b + W$ za vse $b \in \mathcal{A}$.
\end{lema}

\begin{proof}
    Po definiciji je $b = a + w$ za nek $w \in W$, torej je $w = b - a$. Za vsak $x \in W$ je
    \[
    a + x = b + (a - b) + x = b - w + x,
    \]
    in ker je $W$ vektorski podprostor je $(x - w) \in W$, torej je $a + x = b + (x - w) \in b + W$. Enako pokažemo drugo smer.
\end{proof}

\begin{posledica}
    Naj bosta $\mathcal{A} = a + U$ in $\mathcal{B} = b + W$ afina podprostora v $V$. Če je $\mathcal{A} \subseteq \mathcal{B}$, je $U \leq W$.
\end{posledica}

\begin{proof}
	Velja
	\[    
    a + U = \mathcal{A} \subseteq \mathcal{B} = b + W = a + W. \qedhere
    \]
\end{proof}

\begin{posledica}
    Naj bo $\mathcal{A}$ afin prostor v $V$. Če je $\mathcal{A} = a + W$ in $\mathcal{A} = a' + W'$, potem je $W = W'$.
\end{posledica}

\begin{definicija}
    \emph{Razsežnost}\index{Afin prostor!Razsežnost} afinega prostora $\mathcal{A} = a + W$ je 
    \[
    \dim \mathcal{A} = \dim U.
    \]
\end{definicija}

\begin{definicija}
    Naj bodo $a_{i} \in \mathcal{A}$ in $\alpha_{i} \in O$ za vse $1 \leq i \leq n$, in naj bo $\sum_{i=1}^{n} \alpha_{i} = 1$. Vsoto 
    \[
    \sum_{i=1}^{n} \alpha_{i} a_{i}
    \]
    imenujemo \emph{afina kombinacija}\index{Afina kombinacija} točk $a_1,\dots, a_n$.
\end{definicija}

\begin{lema}
    Naj bo karakteristika $O$ različna od 2. Poljubna afina kombinacija dveh elementov iz $\mathcal{A}$ je v $\mathcal{A}$ natanko tedaj, ko je poljubna afina kombinacija poljubno elementov iz $\mathcal{A}$ v $\mathcal{A}$.
\end{lema}

\begin{proof}
    Lemo dokažemo z indukcijo po številu sumandov. Primera $n = 1$ in $n = 2$ sta trivialna.
    
    Naj bo $n \geq 3$ in predpostavimo, da velja izrek za vse $m < n$. Ideja dokaza je, da pogledamo vsoto prvih $n - 1$ členov in pametno izpostavimo tak faktor, da postane afina in na njej uporabimo izrek
    in zmanjšamo vsoto na afino kombinacijo dveh elementov, za katero izrek trivialno velja.
    Označimo $\alpha = \alpha_1 + \dots + \alpha_{n-1}$. Sedaj ločimo dva primera:
   
    \begin{enumerate}[i)]
    \item Velja $\alpha \neq 0.$ Sledi, da je
    \[
        \alpha_1 a_1 + \dots + \alpha_{n-1} a_{n-1} + \alpha_n a_n = 
        \underbrace{\alpha \cdot \overbrace{(\alpha^{-1} \cdot \alpha_1 a_1 + \dots + \alpha^{-1} \cdot \alpha_{n-1} a_{n-1})}^{\text{afina kombinacija $n - 1$ elementov}} + \alpha_n a_n}_{\text{afina kombinacija dveh elementov}}.
    \]
    Po indukcijski predpostavki je torej afina kombinacija znova element $\mathcal{A}$.
    \item Velja $\alpha = 0$.
    Brez škode za splošnost je $\alpha_1 + \dots + \alpha_{n-2} \neq 0$, drugače bi bil $\alpha_{n-1} = 0$ in bi imeli kombinacijo $n-1$ elementov, za katero po indukcijski predpostavki izrek drži.
    Dokaz je isti kot zgoraj, le da vzamemo prvih $n-2$ elementov namesto $n-1$ in vsoto zmanjšamo na 3 elemente namesto 2. 
    
    Dovolj je tako pokazati trditev za $n=3$. Ker ima $O$ karakteristiko različno od 2, lahko izberemo taka $\alpha_1$ in $\alpha_2$, da je $\alpha_1 + \alpha_2 \neq 0$,
    saj drugače velja
    \[
    \alpha_1 + \alpha_2 = \alpha_3 + \alpha_2 = \alpha_1 + \alpha_3 = 0,
    \]
    torej velja $\alpha_1 = \alpha_2 = \alpha_3 = 1$ in zato $\alpha_1 + \alpha_2 + \alpha_3 = 1 + 1 + 1 = 1$, oziroma $1 + 1 = 0$, kar je protislovje. Sedaj zaključimo kot v prejšnjem primeru. \qedhere
    \end{enumerate}
\end{proof}

\begin{trditev}
    Naj bo karakteristika $O$ različna od 2. $\mathcal{A} \leq V$ je afin podprostor natanko tedaj, ko poljubna afina kombinacija dveh točk iz $\mathcal{A}$ leži v $\mathcal{A}$.
\end{trditev}

\begin{proof}
    ($\Rightarrow$)
    Predpostavimo, da je $\mathcal{A}$ afin podprostor.
    Naj bo $\mathcal{A} = a + W$ in $a + w_1, a + w_2 \in \mathcal{A}$, kjer sta $w_1, w_2 \in W$, ter naj bosta $\alpha_1, \alpha_2 \in O$ taka, da velja $\alpha_1 + \alpha_2 = 1$. Potem velja
    \begin{align*}
    \alpha_1 a_1 + \alpha_2 a_2 &= \alpha_1 (a + w_1) + \alpha_2 (a + w_2) \\
    &= \alpha_1 a + \alpha_1 w_1 + \alpha_2 a + \alpha_1 w_2 \\
    &= \alpha_1 a + \alpha_2 a + \alpha_1 w_1 + \alpha_1 w_2 \\
    &= \underbrace{(\alpha_1 + \alpha_2)}_{=\: 1} a + \underbrace{(\alpha_1 w_1 + \alpha_1 w_2)}_{\text{leži v $W$}}.
    \end{align*}

    ($\Leftarrow$)
    Sedaj predpostavimo, da poljubna afina kombinacija dveh točk iz $\mathcal{A}$ leži v $\mathcal{A}$.
    $\mathcal{A}$ je afin prostor natanko tedaj, ko obstajata nek $W \leq V$ in $a \in \mathcal{A}$, da je $\mathcal{A} = a + W$, oziroma ko za vsak $v \in \mathcal{A}$ velja $v - a \in W$.
    
    Fiksiramo $a \in A$. Pokazali bomo da je množica $W = \setb{b-a}{b \in \mathcal{A}}$ vektorski prostor.
    Naj bosta $x$ in $y$ poljubna elementa $W$, torej $x = b - a$ in $y = c - a$ za neka $b, c \in \mathcal{A}$, in naj bosta $\alpha, \beta \in O$.
    
    Linearna kombinacija $\alpha x + \beta y$ leži v $W$ natanko tedaj, ko za nek $d \in \mathcal{A}$ velja
    \[
    \alpha x + \beta y = \alpha (b - a) + \beta (c - a) = d - a,
    \]
    oziroma
    \[
    a + \alpha (b - a) + \beta (c - a) = (1 - \alpha - \beta) a + \alpha b + \beta c = d.
    \]
    Ker pa velja $(1 - \alpha - \beta) + \alpha + \beta = 1$, je zgornja vsota afina kombinacija elementov $a$, $b$ in $c$ iz $\mathcal{A}$, torej po predpostavki njihova vsota leži v $\mathcal{A}$.
\end{proof}

\datum{2022-2-22}

\begin{posledica}
    $\mathcal{A}$ je afin podprostor v $V$ natanko tedaj, ko leži poljubna afina kombinacija elementov iz $\mathcal{A}$ v $\mathcal{A}$.
\end{posledica}

\begin{trditev}
    Če je presek $\mathcal{P}$ kake družine afinih podprostorov neprazen, je $\mathcal{P}$ afin podprostor.
\end{trditev}

\begin{proof}
    Naj bo $\mathcal{A}_{\lambda}$ družina afinih podprostorov. Izberemo $a \in \bigcap \mathcal{A}_{\lambda} = \mathcal{P}$. Potem za vsak $\lambda$ velja $\mathcal{A}_{\lambda} = a + W_{\lambda}$ za nek vektorski prostor $W_{\lambda}$. Velja
    \[
    \bigcap \mathcal{A}_{\lambda} = \bigcap \set{a + W_{\lambda}} = a + \bigcap W_{\lambda},
    \]
    ker pa je $\bigcap W_{\lambda}$ vektorski prostor, je $\mathcal{P}$ afin podprostor.
\end{proof}

\begin{definicija}
    \emph{Afina ogrinjača}\index{Afina ogrinjača} množice $X \subseteq V$ je presek vseh afinih podprostorov, ki vsebujejo $X$. Označimo jo z $\Af (X)$ in je afin prostor po zgornji trditvi.
\end{definicija}

\begin{opomba}
    $\Af (X)$ je po definiciji najmanjši afin podprostor, ki vsebuje $X$.
\end{opomba}

\begin{trditev}
    $\Af (X)$ je enaka množici vseh afinih kombinacij elementov iz $X$.
\end{trditev}

\begin{proof}
    Z $\mathcal{A}$ označimo množico vseh afinih kombinacij elementov iz $X$.

    Ker je $\Af (X)$ afin podprostor, leži poljubna linearna kombinacija elementov iz $\Af (X)$ v $\Af (X)$, torej velja $\mathcal{A} \subseteq \Af (X)$.

    Ker je $X \subseteq \mathcal{A}$, je po zgornji opombi za $\Af (X) \subseteq \mathcal{A}$ dovolj pokazati, da je $\mathcal{A}$ afin podprostor. Poljubna afina kombinacija elementov iz $\mathcal{A}$ je afina kombinacija afinih kombinacij elementov iz $X$,
    kar je spet afina kombinacija elementov iz $X$, torej leži v $\mathcal{A}$.
\end{proof}

\begin{lema}
    Naj bosta $\mathcal{A} = a + W$ in $\mathcal{B} = b + U$ afina podprostora. Tedaj se $\mathcal{A}$ in $\mathcal{B}$ sekata natanko tedaj, ko je $b - a \in W + U$.
\end{lema}

\begin{proof}
    ($\Leftarrow$)
    Naj se $\mathcal{A}$ in $\mathcal{B}$ sekata. Potem obstajata taka $w \in W$ in $u \in U$, da za neka $a \in \mathcal{A}$ in $b \in \mathcal{B}$ velja
    \[
    a + w = b + u,    
    \]
    iz česar sledi
    \[
    b - a = w - u,    
    \]
    torej velja $b - a \in W + U$

    ($\Rightarrow$)
    Naj bo $b - a \in W + U$. Potem obstajata taka $w \in W$ in $u \in U$, da je
    \[
    b - a = w + u;    
    \]
    iz česar sledi
    \[
    b + (- u) = a + w,    
    \]
    torej se $\mathcal{A}$ in $\mathcal{B}$ sekata v nekem elementu.
\end{proof}

\begin{lema}
    $\Af ((a + W) \cup (b + U)) = a + W + U + \Lin (\set{b - a})$.
\end{lema}

\begin{proof}
    Naj bo 
    \[
    T = W + U + \Lin (\set{b - a}),
    \]
    $T$ je vektorski prostor, torej je $a + T = a + (b - a) + T = b + T$ afin podprostor.

    Najprej pokažemo $\Af ((a + W) \cup (b + U)) \subseteq a + T$. Velja
    \[
        a + W \subseteq a + T
        \quad \text{in} \quad
        b + U \subseteq b + T = a + T,
    \]
    torej velja
    \[
    \Af ((a + W) \cup (b + U)) \subseteq a + T.
    \]

    Da dokažemo vsebovanost v drugo smer bomo pokazali, da vsak afin prostor $\mathcal{C}$, ki vsebuje $(a + W) \cup (b + U)$, vsebuje tudi $a + T$.

    Naj bo $(a + W) \cup (b + U) \subseteq \mathcal{C}$. Potem sta $a, b \in \mathcal{C}$, torej obstaja nek vektorski prostor $S$, da velja $a + S = b + S = \mathcal{C}$. Iz
    \[
        a + W \subseteq a + S
        \quad \text{in} \quad
        b + U \subseteq b + S
    \]
    sledi $W \leq S$ in $U \leq S$. Ker je $b \in a + S$, obstaja nek $s \in S$, da je $b = a + s$, torej je $b - a \in S$, iz česar sledi $\Lin (\set{b - a}) \subseteq S$.
    Če združimo vse to, dobimo $T \subseteq S$, torej je
    \[
    a + T \subseteq a + S = C. \qedhere
    \] 
\end{proof}

\begin{trditev}
    Naj bosta $\mathcal{A} = a + W$ in $\mathcal{B} = b + U$ afina podprostora. Velja
    \[
    \mathcal{A} \cap \mathcal{B} = \emptyset \iff \dim \Af ( \mathcal{A} \cup \mathcal{B} ) = \dim (W + U) + 1
    \]
\end{trditev}

\begin{proof}
	Velja
    \[
        \mathcal{A} \cap \mathcal{B} = \emptyset \iff b - a \notin W + U,
    \]
    kar pa je ekvivalentno
    \begin{align*}
        \dim \Af ( \mathcal{A} \cup \mathcal{B} ) &= \dim (W + U + \Lin (\set{b-a})) \\
        &= \dim (W + U) + \dim \Lin (\set{b-a}) - \dim ((W + U) \cap \Lin (\set{b-a})) \\
        &= \dim (W + U) + 1. \qedhere
    \end{align*}
\end{proof}

\begin{definicija}
    Afina prostora $\mathcal{A} = a + W$ in $\mathcal{B} = b + U$ sta \emph{vzporedna}\index{Vzporedna}, če je $W \leq V$ ali $V \leq W$, kar označimo z $\mathcal{A} \parallel \mathcal{B}$. 
\end{definicija}

\begin{trditev}
    Naj bosta $\mathcal{A}$ in $\mathcal{B}$ afina podprostora. 

	\begin{enumerate}[a)]
	\item Če se $\mathcal{A}$ in $\mathcal{B}$ sekata, sta vzporedna natanko tedaj, ko je ali $\mathcal{A} \subseteq \mathcal{B}$, ali pa $\mathcal{B} \subseteq \mathcal{A}$.

    \item Če se $\mathcal{A}$ in $\mathcal{B}$ ne sekata, sta vzporedna natanko tedaj, ko velja 
    \[
        \dim \Af (\mathcal{A} \cup \mathcal{B}) = \max (\dim \mathcal{A}, \dim \mathcal{B}) + 1.
    \]
    \end{enumerate}
\end{trditev}

\begin{proof}
    \begin{enumerate}[a)]
	\item Naj bosta $\mathcal{A} = a + W$ in $\mathcal{B} = a + U$, kjer je $a \in \mathcal{A} \cap \mathcal{B}$.
    \[
    \mathcal{A} \parallel \mathcal{B} \iff W \leq U \lor U \leq W \iff \underbrace{a + W \subseteq a + U}_{\mathcal{A} \subseteq \mathcal{B}} \lor \underbrace{a + U \subseteq a + W}_{\mathcal{B} \subseteq \mathcal{A}}.
    \]

    \item Naj bosta $\mathcal{A} = a + W$ in $\mathcal{B} = b + U$.
    \begin{align*}
        \mathcal{A} \parallel \mathcal{B} &\iff W \leq U \lor U \leq W \\
        &\iff W + U = U \lor W + U = W \\
        &\iff \dim (W + U) = \dim U \lor \dim (W + U) = \dim W \\
        &\iff \dim (W + U) = \max (\dim U, \dim W) \\
        &\iff \dim \Af (\mathcal{A} \cup \mathcal{B}) = \dim (W + U) + 1 = \max (\dim U, \dim W) + 1. \qedhere
    \end{align*}
    \end{enumerate}
\end{proof}

\begin{definicija}
    Množica $\set{x_0, x_1, \dots, x_n}$ je \emph{afino neodvisna}\index{Afino neodvisna}, če je množica
    \[
    	\set{x_1 - x_0, \dots, x_n - x_0}
    \]
    linearno neodvisna.
\end{definicija}

\begin{opomba}
    Definicija je neodvisna od vrstnega reda elementov.
\end{opomba}

\begin{definicija}
    Množica $X$ je \emph{afina baza}\index{Afina baza} afinega prostora $\mathcal{A}$, če je afino neodvisna in velja $\Af (X) = \mathcal{A}$.
\end{definicija}

\begin{izrek}
    Naj bo $\mathcal{A} = a + W$ afin podprostor.

	\begin{enumerate}[a)]
    \item $\set{x_0, \dots, x_n}$ je afina baza za $\mathcal{A}$ natanko tedaj, ko je $\set{x_1 - x_0, \dots, x_n - x_0}$ baza $W$.

    \item $\set{e_1, \dots, e_n}$ je baza za $W$ natanko tedaj, ko je $\set{a, e_1 + a, \dots, e_n + a}$ afina baza $\mathcal{A}$.	
	\end{enumerate}
\end{izrek}

\newpage

\subsection{Semilinearne preslikave}

\begin{definicija}
    Naj bosta $U$ in $V$ vektorska prostora nad istim obsegom $O$. Preslikava $A \colon U \to V$ je \emph{semilinearna}\index{Semilinearna preslikava}, če je
	
	\begin{enumerate}[(i)]
    \item aditivna: Za vse $x,y \in U$ je
    \[
    A(x + y) = Ax + Ay.    
    \]

    \item semi-homogena: Obstaja nek avtomorfizem\footnote{Izomorfizem $f \colon O \to O$.} $f$ obsega $O$, da je za vsak $x \in U, \alpha \in O$
    \[
    A(\alpha x) = f(\alpha) Ax.
    \]
	\end{enumerate}
\end{definicija}

\begin{opomba}
    Obsegi $\R$, $\Q$ in $\F_p$ nimajo netrivialnih avtomorfizmov. $\mathbb{C}$ jih ima neskončno, ampak edini lahek netrivialen primer je konjugacija.
\end{opomba}

\datum{2022-3-1}

\begin{trditev}
    Naj bo $A \colon U \to V$ semilinearna preslikava.
    
    \begin{enumerate}[a)]
        \item Če je $W \leq U$, velja $AW \leq V$.
        \item Če je $W \leq V$, velja $A^{-1} W \leq U$.
    \end{enumerate}
\end{trditev}

\begin{proof}
    S pomočjo linearnih kombinacij bomo pokazali, da sta zgornji množici vektorska podprostora. Naj bo $f$ avtomorfizem, ki pripada preslikavi $A$.
    \begin{enumerate}[a)]
        \item Naj bosta $Ax,Ay \in AW$ in $\alpha, \beta \in O$. Tedaj velja
        \[
            \alpha Ax + \beta Ay = A(f^{-1}(\alpha) x) + A(f^{-1}(\beta) y) = A(f^{-1}(\alpha) x + f^{-1}(\beta) y) \in AW.
        \]
        
        \item Naj bosta $x,y \in A^{-1}W$ in $\alpha, \beta \in O$. Tedaj velja
        \[
            A(\alpha x + \beta y) = f(\alpha)Ax + f(\beta)Ay \in W,
        \]
        torej je
        \[
        \alpha x + \beta y \in A^{-1}W.   \qedhere
        \]
    \end{enumerate}
\end{proof}

\begin{posledica}
    Slika in jedro semilinearne preslikave sta vektorska prostora.
\end{posledica}

\begin{trditev}
    Injektivna semilinearna preslikava preslika linearno neodvisne vektorje v linearno neodvisne vektorje.
\end{trditev}

\begin{proof}
    Naj bo $A$ semilinearna in $f$ avtomorfizem, ki ji pripada. Naj bodo $x_1, \dots, x_k$ linearno neodvisni. Naj velja
    \[
        \alpha_1 A x_1 + \dots + \alpha_k A x_k = A (f^{-1}(\alpha_1) x_1 + \dots + f^{-1}(\alpha_k) x_k) = 0.
    \]
    Iz injektivnosti sledi
    \[
        f^{-1}(\alpha_1) x_1 + \dots + f^{-1}(\alpha_k) x_k = 0.
    \]
    Ker so $x_1, \dots x_k$ linearno neodvisni in je $f$ avtomorfizem, so vsi $\alpha_1, \dots, \alpha_k$ enaki 0.
\end{proof}

\begin{trditev}
	Veljata naslednji trditvi:
	
    \begin{enumerate}[a)]
        \item Kompozitum semilinearnih preslikav je semilinearna preslikava.
        \item Inverz bijektivne semilinearne preslikave je semilinearna preslikava.
    \end{enumerate}
\end{trditev}

\begin{proof}
	Za dokaz prve točke je dovolj opaziti, da je kompozitum avtomorfizmov spet avtomorfizem.
	
	Naj bosta $x,y \in V$. Označimo $x' = A^{-1}x$ in $y' = A^{-1}y$. Opazimo, da velja
        \[
            A(f^{-1}(\alpha)x' + y') = \alpha Ax' + Ay' = \alpha x + y.
        \]
        Sledi, da je
        \[
            f^{-1}(\alpha)A^{-1}x + A^{-1}y = A^{-1}(\alpha x + y). \qedhere
        \]
\end{proof}

\newpage

\subsection{Afine transformacije}

\begin{definicija}
    Naj bosta $\mathcal{A}$ in $\mathcal{B}$ afina v $V$, pri čemer velja $\dim \mathcal{A} = \dim \mathcal{B} \geq 2$. Bijekcija $\tau \colon \mathcal{A} \to \mathcal{B}$ je \emph{afina transformacija}\index{Afina transformacija}, če ohranja kolinearnost točk.
\end{definicija}

\begin{izrek}
    Slika premice z afino transformacijo je premica.
\end{izrek}

\begin{proof}
    Za končne obsege to sledi iz bijektivnosti. Za neskončne obsege najprej dokažimo naslednji lemi:

\begin{lema*}
    Naj bo $O \neq \Z_2$ in naj bosta $\mathcal{A}, \mathcal{B}$ afina v $V$. Naj se $\mathcal{A}$ in $\mathcal{B}$ sekata in naj bo $c \in \Af (\mathcal{A} \cup \mathcal{B})$. Potem obstajata taka $a \in \mathcal{A}$ in $b \in \mathcal{B}$,
    da je $c \in \Af (\set{a,b})$.
\end{lema*}

\begin{proof}
    Naj bo $\set{x_0, \dots, x_k}$ afina baza za $\mathcal{A} \cap \mathcal{B}$. Dopolnimo jo do afine baze \\
    $\set{x_0, \dots, x_k, a_0, \dots, a_n}$ za $\mathcal{A}$ in $\set{x_0, \dots, x_k, b_0, \dots, b_m}$ za $\mathcal{B}$.
    Naj bo $c \in \Af (\mathcal{A} \cup \mathcal{B})$. Potem lahko $c$ zapišemo kot afino kombinacijo
    \[
    c = \sum_{i=0}^k \gamma_i x_i + \sum_{j=0}^n \alpha_j a_j + \sum_{l=0}^m \beta_l b_l.
    \]
    Naj bo $\beta = \sum \beta_l$ in $\alpha = \sum \gamma_i + \sum \alpha_j$. Sedaj ločimo dva primera:
    
    \begin{enumerate}
        \item Velja $\beta \neq 0$ in $\alpha \neq 0$. Sledi, da lahko $c$ zapišemo kot
        \begin{align*}
          c &= \alpha \left(\sum_{i=0}^k \alpha^{-1} \gamma_i x_i + \sum_{j=0}^n \alpha^{-1} \alpha_j a_j\right) + \beta \left(\sum_{l=0}^m \beta^{-1} \beta_l b_l\right) \\
          &= \alpha a + \beta b \in \Af (\set{a,b}),
        \end{align*}
        pri čemer sta $a$ in $b$ očitno elementa $\mathcal{A}$ in $\mathcal{B}$ zaporedoma.
        \item Velja $\beta = 0$. Sledi, da je $\alpha = 1$. Izberemo si poljuben $\beta_0 \in O \setminus \set{0,1}$. Sedaj lahko zapišemo
        \[
            c = \left(\sum_{i=0}^k \gamma_i x_i - \beta_0 x_0 + \sum_{j=0}^n \alpha_j a_j\right) + \left(\sum_{l=0}^m \beta_l b_l + \beta_0 x_0\right),
        \]
        kar pa lahko razrešimo na enak način kot v prvem primeru. Podobno zaključimo, če je $\alpha = 0$. \qedhere
    \end{enumerate}
\end{proof}

\begin{lema*}
    Naj bo $\tau \colon \mathcal{A} \to \mathcal{B}$ afina transformacija in naj obstajata afini premici $p \subseteq \mathcal{A}$ in $q \subseteq \mathcal{B}$, da je $\tau (p) \subset q$. Potem v $\mathcal{A}$ obstajajo taki afini podprostori $\mathcal{A}_1, \dots, \mathcal{A}_n$, da je
    \begin{enumerate}[a)]
        \item $p = \mathcal{A}_1 \subseteq \dots \subseteq \mathcal{A}_n = \mathcal{A}$,
        \item $\dim \mathcal{A}_i = i$ in
        \item $\dim \Af (\tau(\mathcal{A}_i)) < i$.
    \end{enumerate}
\end{lema*}

\begin{proof}
    Ker je $\tau$ surjektivna, obstaja tak $a \in \mathcal{A} \setminus p$, da je $\tau (a) \in q$. Sedaj izberemo $\mathcal{A}_2 = \Af (p \cup \set{a})$.
    Velja $\dim \mathcal{A}_2 = \max(\dim p, \dim\set{a}) + 1 = 2$. Izberemo $b \in p$ in označimo $r = \Af (\set{a,b})$.
    Sledi, da je $\mathcal{A}_2 = \Af (p \cup \set{a}) = \Af (p \cup r)$. Ker sta $\tau (a), \tau (b) \in q$, je $\tau (r) \subseteq q$. Vsak $x$ iz $\mathcal{A}_2$ je afina kombinacija elementov iz $p$ in $r$,
    torej za vsak $x \in \mathcal{A}_2$ velja $\tau (x) \in q$, torej je $\tau (\mathcal{A}_2) \subseteq q$, oziroma $\dim \Af (\tau (\mathcal{A}_2)) = 1$.

    Nadaljujemo induktivno -- denimo, da smo definirali $\mathcal{A}_1 \subseteq \dots \subseteq \mathcal{A}_{k-1}$. Izberemo poljuben $a \in \mathcal{A} \setminus \mathcal{A}_{k-1}$ in definiramo $\mathcal{A}_k = \Af (\mathcal{A}_{k-1} \cup {a})$.
    Sledi, da je $\dim \mathcal{A}_k = \dim \mathcal{A}_{k-1} + 1$. Izberemo še $b \in \mathcal{A}_{k-1}$ in definiramo $r = \Af (\set{a,b})$. Sledi $\mathcal{A}_k = \Af (\mathcal{A}_{k-1} \cup r)$ in
    \[
        \tau (\mathcal{A}_k) \subseteq \Af (\tau (\mathcal{A}_{k-1}) \cup \tau (r)) \subseteq \Af (\underbrace{\Af \tau (\mathcal{A}_{k-1})}_{{\dim} < k - 1} \cup \underbrace{\Af \tau (r)}_{{\dim} = 1}),
    \] torej je
    \[
      \dim \tau (\mathcal{A}_k) < k. \qedhere  
    \]
\end{proof}

	Vrnimo se k dokazu izreka. Če obstaja premica, ki se ne preslika v premico, preslikava ni surjektivna, kar je protislovje.
\end{proof}

\begin{posledica}
    Afina preslikava nekolinearne točke preslika v nekolinearne.
\end{posledica}

\begin{proof}
    Naj bodo $a,b,c$ nekolinearne. Premica $p$, ki gre skozi $a$ in $b$, ne vsebuje $c$. $\tau (c)$ ne more ležati na $\tau (p)$, ker je $\tau$ injektivna preslikava, torej so kolinearne.
\end{proof}
